# 子图匹配算法

传统子图匹配算法主要聚焦于子图同构算法

- 双射映射

  同时满足单射和满射的性质，即为“一一对应”

  - 单射

    两个非空集合A和B，两个集合之间存在一个映射f，A中的每个元素都在B中对应一个不同的对应

  - 满射

    两个非空集合A和B，两个集合之间存在一个映射f，集合B中的每个元素都在A中被对应

  两者结合即为满射

可以把子图匹配算法理解为一种双射映射，目标图和被匹配图中的元素一一对应

## 精确算法

- dfs算法 + 剪枝

- ullmann算法

  **候选矩阵**和**回溯剪枝**

  - 候选矩阵M

    $M[i][j]=1$，预处理目标图$H$中的结点$i$和被匹配图$G$中的结点$j$的对应关系

  - 递归筛选

    通过候选矩阵来进行剪枝，本质上依然为dfs算法

- VF2算法

  - VF2算法中符号的意义

    - $M$：已经匹配的节点对集合，节点对中的两者分别为子图中的结点和被匹配图的结点
    - $T_1^+$和$T_1^-$：子图$H$中已经匹配结点的出边邻居和入边邻居（可以理解为已匹配结点关系最密切的结点）
    - $T_2^+$和$T_2^-$：被匹配图$G$中已经匹配结点的出边邻居和入边邻居
    - $N_1$和$N_2$：子图和被匹配图中未被匹配的结点

  - VF2算法初始点选择策略

    - 结构约束优先：选择子图中度数最高的结点
    - 标签稀有性优先：标签出现频率最低的结点
    - 预处理排序

  - 候选生成

    - 从$N_1$中选择一个结点$n_H$，要求与已匹配节点关联最紧密的结点（简单理解为邻居结点）
    - 从$N_2$中选择一个结点$n_G$，要求与$n_H$兼容，同时属于$T_2$

  - 可行性检测

    对于候选对$(n_H,n_G)$，检查约束

    - 结构一致性

      如果$n_H$与已匹配结点有边，那么必须$n_G$必须有对应边；反之亦然

    - 入 / 出边数约束

      $n_H$与已匹配结点的出边 / 入边数量必须与$n_G$相同

    - 未来可行性约束

      添加$(n_H,n_G)$之后，剩余未匹配结点是否能继续匹配

      未来可行性约束主要检查**结构可达性约束**以及**资源消耗型约束**

      - 顶点度的约束

        子图中一个未匹配顶点度为$n$，目标图中与其对应的顶点度小于$n$那么这种对应就是

        

  